ref_new = builtin("ref_new")
ref_get = builtin("ref_get")
ref_set = builtin("ref_set")
sin = builtin("sin")

def get(s) = s(dt) end

x = 2.
xx = x
def x = 3. end
def f(x) =
  y = x
  x
end

def id(x) = x end
a = id(3.)
b = id(())

a = begin
  x = 2.
  5.
end

def a =
  ()
  4.
end

# def succ(x) = x + 1. end

def integrator(init) =
  y = ref_new(init)
  stream (x) ->
    ans = ref_get(y)
    ref_set(y, ref_get(y) + x * dt)
    ans
end

x = null

# def sine() =
  # t 
# end
